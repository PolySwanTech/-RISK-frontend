<app-base-popup 
  [title]="'Détails'" 
  [showClose]="true"
  [actions]="popupActions"
  [dialogRef]="getDialogRef()"
  (close)="closePopUp()">

  <div class="section">
    <div class="section-header">
      <mat-icon class="section-icon">comment</mat-icon>
      <h3 class="section-title">Votre commentaire</h3>
    </div>

    <div class="forms-container">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Votre avis / décision</mat-label>
        <textarea 
          matInput 
          [(ngModel)]="comments" 
          rows="4" 
          placeholder="Saisissez votre commentaire..."
          required>
        </textarea>
        <mat-icon matPrefix>edit_note</mat-icon>
        <mat-error *ngIf="!comments || comments.trim() === ''">
          Le commentaire est obligatoire
        </mat-error>
      </mat-form-field>

      <div class="info-box">
        <mat-icon>info</mat-icon>
        <span>Ce commentaire sera enregistré dans l'historique d'audit</span>
      </div>
    </div>
  </div>

</app-base-popup>