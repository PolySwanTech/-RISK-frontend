<!-- Rien à afficher tant qu’aucun risque sélectionné -->
<div *ngIf="!riskData" class="no-risk-selected">
  Sélectionnez un risque pour afficher les détails.
</div>

<!-- Affichage du risque -->
<div *ngIf="riskData" class="risk-wrapper">

  <!-- ===================== Infos principales ===================== -->
  <div class="risk-info-grid">

    <div class="info-row">
      <span class="label">Référence :</span>
      <span class="value">{{ riskData.reference }}</span>
    </div>

    <div class="info-row">
      <span class="label">Libellé :</span>
      <span class="value">{{ riskData.libellePerso }}</span>
    </div>

    <div class="info-row">
      <span class="label">Catégorie Bâloise :</span>
      <span class="value">{{ riskData.category.parent ? riskData.category.parent + ' > ' + riskData.category.label : riskData.category.label }}</span>
    </div>

    <div class="info-row">
      <span class="label">Processus :</span>
      <span class="value">
        {{ riskData.processName }}
      </span>
    </div>

    <div class="info-row">
      <span class="label">Business Unit :</span>
      <span class="value">{{ buName }}</span>
    </div>

    <div class="info-row">
      <span class="label">Fréquence :</span>
      <span class="value probability">{{ getFrequency() }}</span>
    </div>

    <div class="info-row">
      <span class="label">Risque inhérent :</span>
      <span class="value badge" [ngClass]="riskBrut">{{ riskBrut }}</span>
    </div>

    <div class="info-row">
      <span class="label">Risque résiduel :</span>
      <span class="value badge" [ngClass]="riskNet">{{ riskNet }}</span>
    </div>
  </div>

  <!-- ===================== Description ===================== -->
  <h4>Description :</h4>
  <p class="description-text">
    {{ riskData.description }}
  </p>

  <!-- ===================== Contrôles ===================== -->
  <h4>Contrôles :</h4>
  <div class="info-row">
    <span class="value">{{ control }}</span>
  </div>

  <!-- ===================== Actions ===================== -->
  <div class="action-buttons">
    <button mat-raised-button color="primary" (click)="onModifyClick()">
      <mat-icon>edit</mat-icon>
      Modifier
    </button>
  </div>

</div>