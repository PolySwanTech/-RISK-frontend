<mat-card class="summary-card mat-elevation-z4">
  <mat-card-header>
    <mat-card-title>
      <span class="title-icon">üìä</span>
      Vue Globale de l'√âvaluation
    </mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <!-- Total affich√© avec design am√©lior√© -->
    <div class="total-container" *ngIf="total > 0">
      <div class="total-badge">
        <span class="total-value">{{ total }}</span>
        <span class="total-label">risques identifi√©s</span>
      </div>
    </div>

    <!-- Barre principale avec animations -->
    <div class="bar-wrapper" *ngIf="total > 0">
      <div class="bar-container">
        <div
          class="segment non-eval"
          [style.flex]="nonEvalPct"
          *ngIf="nonEvaluated > 0"
        >
          <span class="segment-content">
            <strong>{{ nonEvaluated }}</strong>
            <small>{{ nonEvalPct }}%</small>
          </span>
        </div>
        <div
          class="segment brut"
          [style.flex]="brutPct"
          *ngIf="brutOnly > 0"
        >
          <span class="segment-content">
            <strong>{{ brutOnly }}</strong>
            <small>{{ brutPct }}%</small>
          </span>
        </div>
        <div
          class="segment net"
          [style.flex]="brutNetPct"
          *ngIf="brutAndNet > 0"
        >
          <span class="segment-content">
            <strong>{{ brutAndNet }}</strong>
            <small>{{ brutNetPct }}%</small>
          </span>
        </div>
      </div>
    </div>

    <!-- L√©gende am√©lior√©e -->
    <div class="legend">
      <div class="legend-item">
        <div class="legend-marker red">
          <span class="marker-icon">‚ö†Ô∏è</span>
        </div>
        <div class="legend-text">
          <div class="legend-title">Non √©valu√©s</div>
          <div class="legend-desc">Risques sans √©valuation</div>
        </div>
      </div>
      <div class="legend-item">
        <div class="legend-marker yellow">
          <span class="marker-icon">‚ö°</span>
        </div>
        <div class="legend-text">
          <div class="legend-title">√âvaluation brute</div>
          <div class="legend-desc">Brut uniquement</div>
        </div>
      </div>
      <div class="legend-item">
        <div class="legend-marker green">
          <span class="marker-icon">‚úì</span>
        </div>
        <div class="legend-text">
          <div class="legend-title">√âvaluation compl√®te</div>
          <div class="legend-desc">Brut + Net</div>
        </div>
      </div>
    </div>

    <!-- Stats suppl√©mentaires -->
    <div class="stats-grid" *ngIf="total > 0">
      <div class="stat-item">
        <div class="stat-value">{{ brutNetPct }}%</div>
        <div class="stat-label">Compl√©tude</div>
      </div>
      <div class="stat-item">
        <div class="stat-value">{{ nonEvalPct + brutPct }}%</div>
        <div class="stat-label">√Ä traiter</div>
      </div>
    </div>
  </mat-card-content>
</mat-card>