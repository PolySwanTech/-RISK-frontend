<h2>Nouvelle évaluation de risque</h2>

<form [formGroup]="form" (ngSubmit)="submit()">

  <!-- ───────── Risque sélectionné (affiché, non modifiable) ───────── -->
  <div class="row-add">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Risque évalué</mat-label>
      <input matInput [value]="currentRisk?.libellePerso"
             placeholder="-" disabled>
    </mat-form-field>
    
  </div>

  <!-- ───────── ligne : probabilité + niveau net ────────── -->
  <div class="row-add">
    <mat-form-field appearance="outline">
      <mat-label>Probabilité (1-10)</mat-label>
      <input matInput type="number"
             formControlName="probability"
             min="1" max="10">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Niveau net</mat-label>
      <mat-select formControlName="riskNet">
        <mat-option *ngFor="let lvl of riskLevels" [value]="lvl">
          {{ riskLabels[lvl] }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <!-- Commentaire libre -->
  <div class="row-add">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Commentaire</mat-label>
      <textarea matInput formControlName="comment" rows="3"></textarea>
    </mat-form-field>
  </div>

  <button mat-raised-button color="primary" type="submit">
    Enregistrer
  </button>
</form>