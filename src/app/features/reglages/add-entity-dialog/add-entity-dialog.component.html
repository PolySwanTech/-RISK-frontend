<mat-card>
  <app-popup-header [title]="titlePage" [showClose]="dialogRef != null" (close)="goBack()"></app-popup-header>
  <mat-dialog-content>
    <form [formGroup]="formGroup">
  
      <mat-form-field class="full-width">
        <mat-label>Nom</mat-label>
        <input matInput formControlName="name" placeholder="Nom" required>
      </mat-form-field>
  
      <div class="form-group">
        <label>Ligne Métier ?</label>
        <mat-slide-toggle formControlName="lm" [checked]="formGroup.get('lm')?.value" />
      </div>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Fréquence d'évaluation</mat-label>
        <mat-select formControlName="evaluationFrequency" required>
          <mat-option *ngFor="let freq of evaluationFrequencies" [value]="freq.id">
            {{ freq.libelle }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      
    </form>
    <app-select-entities [entiteEnfantId]=" data ? data.id : ''"
      [selectId]="BusinessUnit.parentId ? BusinessUnit.parentId : ''"
      (entitieSelected)="entiteChange($event)"></app-select-entities>
    <div class="actions">
      <button mat-raised-button class="btn-red" (click)="goBack()">Retour</button>
      <button mat-raised-button class="btn-primary" [disabled]="formGroup.invalid" (click)="onSave()">Enregitrer</button>
    </div>
  </mat-dialog-content>
</mat-card>